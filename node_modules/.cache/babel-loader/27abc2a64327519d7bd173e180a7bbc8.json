{"ast":null,"code":"var _jsxFileName = \"/home/mete/Desktop/form-manager/src/components/FormManager/FormManager.js\";\nimport React, { Component } from 'react';\nimport Modal from '../Modal/Modal';\nimport FormList from './FormList/FormList';\n\nconst slugify = require(\"slugify\");\n\nclass FormManager extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      form_list: [],\n      modal_state: false\n    };\n    this.testFormObjectList = [{\n      id: slugify(\"Test form\"),\n      \"name\": \"Test form\",\n      \"description\": \"Uye bilgi formu\",\n      createdAt: \"2017-01-08\",\n      fields: [{\n        \"required\": true,\n        \"name\": \"Ad\",\n        dataType: \"STRING\"\n      }, {\n        \"required\": true,\n        \"name\": \"Soyad\",\n        dataType: \"STRING\"\n      }, {\n        \"required\": false,\n        \"name\": \"Yaş\",\n        dataType: \"NUMBER\"\n      }]\n    }, {\n      id: slugify(\"Test form2\"),\n      \"name\": \"Test form2\",\n      \"description\": \"Uye bilgi formu\",\n      createdAt: \"2017-01-08\",\n      fields: [{\n        \"required\": true,\n        \"name\": \"Ad\",\n        dataType: \"STRING\"\n      }, {\n        \"required\": true,\n        \"name\": \"Soyad\",\n        dataType: \"STRING\"\n      }, {\n        \"required\": false,\n        \"name\": \"Yaş\",\n        dataType: \"NUMBER\"\n      }]\n    }];\n\n    this.initCreateForms = () => {\n      localStorage.clear();\n\n      if (!localStorage.getItem(\"form_list\")) {\n        localStorage.setItem(\"form_list\", JSON.stringify(this.testFormObjectList));\n      }\n\n      let init_form_list = JSON.parse(localStorage.getItem(\"form_list\"));\n      console.log(init_form_list);\n      this.setState({\n        form_list: init_form_list\n      });\n    };\n\n    this.formInputModel = {\n      \"name\": {\n        \"required\": true,\n        \"name\": \"Form Name\",\n        dataType: \"STRING\",\n        charLength: 20,\n        value: \"\"\n      },\n      \"description\": {\n        \"required\": true,\n        name: \"Form Description\",\n        dataType: \"STRING\",\n        charLength: 40,\n        value: \"\"\n      },\n      createdAt: {\n        \"required\": true,\n        name: \"Created At\",\n        dataType: \"STRING\",\n        value: \"\"\n      },\n      fields: [{\n        \"required\": true,\n        \"name\": \"Ad\",\n        dataType: \"STRING\",\n        charLength: 20,\n        value: \"\"\n      }, {\n        \"required\": true,\n        \"name\": \"Soyad\",\n        dataType: \"STRING\",\n        charLength: 20,\n        value: \"\"\n      }, {\n        \"required\": false,\n        \"name\": \"Yaş\",\n        dataType: \"NUMBER\",\n        charLength: 2,\n        value: \"\"\n      }]\n    };\n\n    this.addFormHandler = () => {\n      this.setState({ ...this.state,\n        modal_state: true\n      });\n    };\n\n    this.closeModalHandler = () => {\n      this.setState({\n        modal_state: false\n      });\n    };\n\n    this.saveFormHandler = (form_inf, validations) => {\n      let error_count = 0;\n      Object.keys(validations).map(item => {\n        console.log(validations[item]);\n\n        if (validations[item] === true) {\n          error_count += 1;\n        }\n      });\n\n      if (error_count === 0) {\n        let lcs = JSON.parse(localStorage.getItem(\"form_list\"));\n        console.log(form_inf);\n        let test = {\n          id: slugify(form_inf.name.value),\n          \"name\": form_inf.name.value,\n          \"description\": form_inf.description.value,\n          createdAt: \"2017-01-11\",\n          fields: [{\n            \"required\": true,\n            \"name\": form_inf.fields[0].value,\n            dataType: \"STRING\"\n          }, {\n            \"required\": true,\n            \"name\": form_inf.fields[1].value,\n            dataType: \"STRING\"\n          }, {\n            \"required\": false,\n            \"name\": form_inf.fields[2].value,\n            dataType: \"NUMBER\"\n          }]\n        };\n        console.log(test); //lcs.push(form_inf)\n        //console.log(JSON.stringify(lcs))\n        //localStorage.setItem(\"form_list\",JSON.stringify(lcs));\n\n        /**\n        this.setState({\n            form_list:localStorage.getItem(\"form_list\")\n        })\n        */\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.initCreateForms();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.addFormHandler,\n      className: \"btn btn-success float-right mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }, \"Add Form\"), /*#__PURE__*/React.createElement(FormList, {\n      formList: this.state.form_list,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Modal, {\n      closeModalHandler: this.closeModalHandler,\n      modalState: this.state.modal_state,\n      formInputModel: this.formInputModel,\n      modalName: \"Add Form\",\n      saveForm: this.saveFormHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default FormManager;","map":{"version":3,"sources":["/home/mete/Desktop/form-manager/src/components/FormManager/FormManager.js"],"names":["React","Component","Modal","FormList","slugify","require","FormManager","state","form_list","modal_state","testFormObjectList","id","createdAt","fields","dataType","initCreateForms","localStorage","clear","getItem","setItem","JSON","stringify","init_form_list","parse","console","log","setState","formInputModel","charLength","value","name","addFormHandler","closeModalHandler","saveFormHandler","form_inf","validations","error_count","Object","keys","map","item","lcs","test","description","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Modal from '../Modal/Modal';\nimport FormList from './FormList/FormList';\n\nconst slugify = require(\"slugify\");\n\nclass FormManager extends Component {\n\n    state = {\n        form_list:[],\n        modal_state:false\n    }\n\n    /** ------ Init Create Example Forms ------ */\n    testFormObjectList = [\n        {\n            id:slugify(\"Test form\"),\n            \"name\": \"Test form\",\n            \"description\": \"Uye bilgi formu\",\n            createdAt: \"2017-01-08\",\n            fields: [ \n                { \"required\": true, \"name\": \"Ad\", dataType: \"STRING\" }, \n                { \"required\": true, \"name\": \"Soyad\", dataType: \"STRING\" },\n                { \"required\": false, \"name\": \"Yaş\", dataType: \"NUMBER\" } \n            ]\n        },\n        {\n            id:slugify(\"Test form2\"),\n            \"name\": \"Test form2\",\n            \"description\": \"Uye bilgi formu\",\n            createdAt: \"2017-01-08\",\n            fields: [ \n                { \"required\": true, \"name\": \"Ad\", dataType: \"STRING\" }, \n                { \"required\": true, \"name\": \"Soyad\", dataType: \"STRING\" },\n                { \"required\": false, \"name\": \"Yaş\", dataType: \"NUMBER\" } \n            ]\n        },\n    ]\n\n    initCreateForms = () => {\n        localStorage.clear()\n        if(!localStorage.getItem(\"form_list\")){\n            localStorage.setItem(\"form_list\",JSON.stringify(this.testFormObjectList));\n        }\n        let init_form_list = JSON.parse(localStorage.getItem(\"form_list\"));\n        console.log(init_form_list)\n        this.setState({\n            form_list:init_form_list\n        })   \n    }\n    /** --------------------------------------- */\n\n    formInputModel = { \n        \"name\": { \"required\":true, \"name\":\"Form Name\", dataType:\"STRING\",charLength:20,value:\"\"}, \n        \"description\":{\"required\":true,name:\"Form Description\",dataType:\"STRING\",charLength:40,value:\"\"},\n        createdAt: {\"required\":true,name:\"Created At\", dataType:\"STRING\",value:\"\"}, \n        fields: [ \n            { \"required\": true, \"name\": \"Ad\", dataType: \"STRING\",charLength:20,value:\"\"}, \n            { \"required\": true, \"name\": \"Soyad\", dataType: \"STRING\",charLength:20,value:\"\"},\n            { \"required\": false, \"name\": \"Yaş\", dataType: \"NUMBER\",charLength:2,value:\"\"} ] }\n\n    addFormHandler = () => {\n        this.setState({\n            ...this.state,\n            modal_state:true\n        })\n    }\n\n    closeModalHandler = () => {\n        this.setState({\n            modal_state:false\n        })\n    }\n\n    saveFormHandler = (form_inf,validations) => {\n        let error_count = 0;\n        Object.keys(validations).map((item)=>{\n            console.log(validations[item])\n            if(validations[item] === true){\n                error_count +=1;\n            }\n        })\n        if(error_count === 0 ){\n            let lcs = JSON.parse(localStorage.getItem(\"form_list\"))\n            console.log(form_inf)\n            let test = {\n                id:slugify(form_inf.name.value),\n                \"name\": form_inf.name.value,\n                \"description\": form_inf.description.value,\n                createdAt: \"2017-01-11\",\n                fields: [ \n                    { \"required\": true, \"name\": form_inf.fields[0].value, dataType: \"STRING\" }, \n                    { \"required\": true, \"name\": form_inf.fields[1].value, dataType: \"STRING\" },\n                    { \"required\": false, \"name\": form_inf.fields[2].value, dataType: \"NUMBER\" } \n                ]\n            }\n            console.log(test)\n            //lcs.push(form_inf)\n            //console.log(JSON.stringify(lcs))\n            //localStorage.setItem(\"form_list\",JSON.stringify(lcs));\n            /**\n            this.setState({\n                form_list:localStorage.getItem(\"form_list\")\n            })\n            */\n        }\n\n    }\n\n    componentDidMount() {\n        this.initCreateForms()\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <div className=\"mt-3\">\n                    <button onClick={this.addFormHandler} className=\"btn btn-success float-right mb-2\">Add Form</button>\n                    <FormList formList={this.state.form_list}></FormList>\n                </div>\n                <Modal \n                closeModalHandler={this.closeModalHandler} \n                modalState={this.state.modal_state}\n                formInputModel={this.formInputModel}\n                modalName={\"Add Form\"}\n                saveForm={this.saveFormHandler}\n                ></Modal>\n            </React.Fragment>\n        )\n    }\n\n}\n\nexport default FormManager;\n\n"]},"metadata":{},"sourceType":"module"}